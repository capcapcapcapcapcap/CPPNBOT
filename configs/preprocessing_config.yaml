# 统一数据预处理配置文件
# 融合Twibot作者经验与跨平台设计理念

# 基础配置
output_dir: "processed_data"
device: "cuda"  # 或 "cpu"

# 文本编码配置
text_encoding:
  model_name: "xlm-roberta-base"  # 多语言支持
  max_length: 128                 # 最大文本长度
  embedding_dim: 768              # 嵌入维度
  batch_size: 32                  # 编码批次大小
  
# 特征维度配置
feature_dimensions:
  text_dim: 768                   # 文本特征维度
  numerical_dim: 5                # 数值特征维度（统一5维）
  categorical_dim: 3              # 分类特征维度（统一3维）
  
# 数值特征配置（借鉴Twibot作者经验）
numerical_features:
  twibot20:
    - "followers_count"           # 粉丝数
    - "following_count"           # 关注数
    - "listed_count"              # 列表收录数
    - "username_length"           # 用户名长度
    - "account_age_days"          # 账户年龄
  
  misbot:
    - "followers_count"           # 粉丝数（从numerical[0]）
    - "following_count"           # 关注数（从numerical[1]）
    - "post_count"                # 微博数（从numerical[2]）
    - "username_length"           # 用户名长度（推断）
    - "account_age_days"          # 账户年龄（固定值）

# 分类特征配置
categorical_features:
  twibot20:
    - "is_verified"               # 是否认证
    - "is_protected"              # 是否受保护
    - "has_default_avatar"        # 是否默认头像
  
  misbot:
    - "is_verified"               # 是否认证（从categorical推断）
    - "is_vip"                    # 是否VIP（从categorical推断）
    - "has_avatar"                # 是否有头像（默认有）

# 图结构配置
graph_features:
  edge_types:
    friend: 0                     # 好友关系
    follow: 1                     # 关注关系
    mention: 2                    # 提及关系
    retweet: 3                    # 转发关系
  
  max_edges_per_user: 1000        # 每用户最大边数
  
# 文本处理配置
text_processing:
  max_tweets_per_user: 20         # 每用户最大推文数（借鉴原作者）
  text_combination_strategy: "concatenate"  # 文本组合策略
  handle_empty_text: "zero_vector"          # 空文本处理方式
  
# 数据标准化配置
normalization:
  numerical_method: "z_score"     # 数值特征标准化方法
  handle_missing: "zero_fill"     # 缺失值处理
  
# 保存配置
save_options:
  format: "pytorch"               # 保存格式
  compression: false              # 是否压缩
  include_metadata: true          # 是否包含元数据
  
# 验证配置
validation:
  check_data_integrity: true      # 检查数据完整性
  verify_feature_dimensions: true # 验证特征维度
  log_statistics: true            # 记录统计信息

# 平台特定配置
platform_specific:
  twibot20:
    language: "en"
    reference_date: "2020-09-01"  # 计算账户年龄的参考日期
    default_avatar_url: "http://abs.twimg.com/sticky/default_profile_images/default_profile_normal.png"
  
  misbot:
    language: "zh"
    reference_date: "2020-01-01"
    default_account_age: 1000     # 默认账户年龄（天）